
<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js预研（迭代2第二次性能优化）</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link href="index.css" />
        <script src="js/three.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script src="js/Detector.js"></script>
        <script src="js/stats.min.js"></script>
        <script id="vertexShader" type="x-shader/x-vertex">
            uniform mat4 modelViewMatrix;
            uniform mat4 projectionMatrix;
            attribute vec3 position;
            attribute vec4 color;
            varying vec3 vPosition;
            varying vec4 vColor;
            void main() {
                vPosition = position;
                vColor = vPosition.y > 37.6 ? vec4(0.0,0.5,0.0,1.0) :
                         vPosition.y > 12.5 ? vec4(1.0,1.0,0.0,1.0) :
                         vec4(1.0,0.0,0.0,1.0);

                gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
            }
        </script>
        <script id="fragmentShader" type="x-shader/x-fragment">
            precision mediump float;
            precision mediump int;
            varying vec3 vPosition;
            varying vec4 vColor;
            void main() {
                gl_FragColor = vColor;
            }
        </script>
	</head>
	<body>

		<div id="info" style="cursor:pointer;position:absolute;right:0;z-index:999;">
			设置Z轴为221s
		</div>
        <div id="content"></div>
		
		<script>
			const data={"snr_x":[1.81,1.83,1.86,1.88,1.9,1.93,1.95,1.98,2.0,2.03,2.05,2.08,2.1,2.12,2.15,2.17,2.2,2.22,2.25,2.27,2.29,2.32,2.34,2.37,2.39,2.42,2.44,2.47,2.49,2.51,2.54,2.56,2.59,2.61,2.64,2.66,2.69,2.71,2.73,2.76,2.78,2.81,2.83,2.86,2.88,2.91,2.93,2.95,2.98,3.0,3.03,3.05,3.08,3.1,3.12,3.15,3.17,3.2,3.22,3.25,3.27,3.3,3.32,3.34,3.37,3.39,3.42,3.44,3.47,3.49,3.52,3.54,3.56,3.59,3.61,3.64,3.66,3.69,3.71,3.74,3.76,3.78,3.81,3.83,3.86,3.88,3.91,3.93,3.96,3.98,4.0,4.03,4.05,4.08,4.1,4.13,4.15,4.17,4.2,4.22,4.25,4.27,4.3,4.32,4.35,4.37,4.39,4.42,4.44,4.47,4.49,4.52,4.54,4.57,4.59,4.61,4.64,4.66,4.69,4.71,4.74,4.76,4.79,4.81,4.83,4.86,4.88,4.91,4.93,4.96,4.98,5.0,5.03,5.05,5.08,5.1,5.13,5.15,5.18,5.2,5.22,5.25,5.27,5.3,5.32,5.35,5.37,5.4,5.42,5.44,5.47,5.49,5.52,5.54,5.57,5.59,5.62,5.64,5.66,5.69,5.71,5.74,5.76,5.79,5.81,5.83,5.86,5.88,5.91,5.93,5.96,5.98,6.01,6.03,6.05,6.08,6.1,6.13,6.15,6.18,6.2,6.23,6.25,6.27,6.3,6.32,6.35,6.37,6.4,6.42,6.45,6.47,6.49,6.52,6.54,6.57,6.59,6.62,6.64,6.67,6.69,6.71,6.74,6.76,6.79,6.81,6.84,6.86,6.88,6.91,6.93,6.96,6.98,7.01,7.03,7.06,7.08,7.1,7.13,7.15,7.18,7.2,7.23,7.25,7.28,7.3,7.32,7.35,7.37,7.4,7.42,7.45,7.47,7.5,7.52,7.54,7.57,7.59,7.62,7.64,7.67,7.69,7.71,7.74,7.76,7.79,7.81,7.84,7.86,7.89,7.91,7.93,7.96,7.98,8.01,8.03,8.06,8.08,8.11,8.13,8.15,8.18,8.2,8.23,8.25,8.28,8.3,8.33,8.35,8.37,8.4,8.42,8.45,8.47,8.5,8.52,8.54,8.57,8.59,8.62,8.64,8.67,8.69,8.72,8.74,8.76,8.79,8.81,8.84,8.86,8.89,8.91,8.94,8.96,8.98,9.01,9.03,9.06,9.08,9.11,9.13,9.16,9.18,9.2,9.23,9.25,9.28,9.3,9.33,9.35,9.38,9.4,9.42,9.45,9.47,9.5,9.52,9.55,9.57,9.59,9.62,9.64,9.67,9.69,9.72,9.74,9.77,9.79,9.81,9.84,9.86,9.89,9.91,9.94,9.96,9.99,10.01,10.03,10.06,10.08,10.11,10.13,10.16,10.18,10.21,10.23,10.25,10.28,10.3,10.33,10.35,10.38,10.4,10.42,10.45,10.47,10.5,10.52,10.55,10.57,10.6,10.62,10.64,10.67,10.69,10.72,10.74,10.77,10.79,10.82,10.84,10.86,10.89,10.91,10.94,10.96,10.99,11.01,11.04,11.06,11.08,11.11,11.13,11.16,11.18,11.21,11.23,11.25,11.28,11.3,11.33,11.35,11.38,11.4,11.43,11.45,11.47,11.5,11.52,11.55,11.57,11.6,11.62,11.65,11.67,11.69,11.72,11.74,11.77,11.79,11.82,11.84,11.87,11.89,11.91,11.94,11.96,11.99,12.01,12.04,12.06,12.08,12.11,12.13,12.16,12.18,12.21,12.23,12.26,12.28,12.3,12.33,12.35,12.38,12.4,12.43,12.45,12.48,12.5,12.52,12.55,12.57,12.6,12.62,12.65,12.67,12.7,12.72,12.74,12.77,12.79,12.82,12.84,12.87,12.89,12.92,12.94,12.96,12.99,13.01,13.04,13.06,13.09,13.11,13.13,13.16,13.18,13.21,13.23,13.26,13.28,13.31,13.33,13.35,13.38,13.4,13.43,13.45,13.48,13.5,13.53,13.55,13.57,13.6,13.62,13.65,13.67,13.7,13.72,13.75,13.77,13.79,13.82,13.84,13.87,13.89,13.92,13.94,13.96,13.99,14.01,14.04,14.06,14.09,14.11,14.14,14.16,14.18,14.21,14.23,14.26,14.28,14.31,14.33,14.36,14.38,14.4,14.43,14.45,14.48,14.5,14.53,14.55,14.58,14.6,14.62,14.65,14.67,14.7,14.72,14.75,14.77,14.79,14.82,14.84,14.87,14.89,14.92,14.94,14.97,14.99,15.01,15.04,15.06,15.09,15.11,15.14,15.16,15.19,15.21,15.23,15.26,15.28,15.31,15.33,15.36,15.38,15.41,15.43,15.45,15.48,15.5,15.53,15.55,15.58,15.6,15.62,15.65,15.67,15.7,15.72,15.75,15.77,15.8,15.82,15.84,15.87,15.89,15.92,15.94,15.97,15.99,16.02,16.04,16.06,16.09,16.11,16.14,16.16,16.19,16.21,16.24,16.26,16.28,16.31,16.33,16.36,16.38,16.41,16.43,16.46,16.48,16.5,16.53,16.55,16.58,16.6,16.63,16.65,16.67,16.7,16.72,16.75,16.77,16.8,16.82,16.85,16.87,16.89,16.92,16.94,16.97,16.99,17.02,17.04,17.07,17.09,17.11,17.14,17.16,17.19,17.21,17.24,17.26,17.29,17.31,17.33,17.36,17.38,17.41,17.43,17.46,17.48,17.5,17.53,17.55,17.58,17.6,17.63,17.65,17.68,17.7,17.72,17.75,17.77,17.8,17.82,17.85,17.87,17.9,17.92,17.94,17.97,17.99,18.02,18.04,18.07,18.09,18.12,18.14,18.16,18.19,18.21,18.24,18.26,18.29,18.31,18.33,18.36,18.38,18.41,18.43,18.46,18.48,18.51,18.53,18.55,18.58,18.6,18.63,18.65,18.68,18.7,18.73,18.75,18.77,18.8,18.82,18.85,18.87,18.9,18.92,18.95,18.97,18.99,19.02,19.04,19.07,19.09,19.12,19.14,19.17,19.19,19.21,19.24,19.26,19.29,19.31,19.34,19.36,19.38,19.41,19.43,19.46,19.48,19.51,19.53,19.56,19.58,19.6,19.63,19.65,19.68,19.7,19.73,19.75,19.78,19.8,19.82,19.85,19.87,19.9,19.92,19.95,19.97,20.0,20.02,20.04,20.07,20.09,20.12,20.14,20.17,20.19,20.21,20.24,20.26,20.29,20.31,20.34,20.36,20.39,20.41,20.43,20.46,20.48,20.51,20.53,20.56,20.58,20.61,20.63,20.65,20.68,20.7,20.73,20.75,20.78,20.8,20.83,20.85,20.87,20.9,20.92,20.95,20.97,21.0,21.02,21.04,21.07,21.09,21.12,21.14,21.17,21.19,21.22,21.24,21.26,21.29,21.31,21.34,21.36,21.39,21.41,21.44,21.46,21.48,21.51,21.53,21.56,21.58,21.61,21.63,21.66,21.68,21.7,21.73,21.75,21.78,21.8,21.83,21.85,21.88,21.9,21.92,21.95,21.97,22.0,22.02,22.05,22.07,22.09,22.12,22.14,22.17,22.19,22.22,22.24,22.27,22.29,22.31,22.34,22.36,22.39,22.41,22.44,22.46,22.49,22.51,22.53,22.56,22.58,22.61,22.63,22.66,22.68,22.71,22.73,22.75,22.78,22.8,22.83,22.85,22.88,22.9,22.92,22.95,22.97,23.0,23.02,23.05,23.07,23.1,23.12,23.14,23.17,23.19,23.22,23.24,23.27,23.29,23.32,23.34,23.36,23.39,23.41,23.44,23.46,23.49,23.51,23.54,23.56,23.58,23.61,23.63,23.66,23.68,23.71,23.73,23.75,23.78,23.8,23.83,23.85,23.88,23.9,23.93,23.95,23.97,24.0,24.02,24.05,24.07,24.1,24.12,24.15,24.17,24.19,24.22,24.24,24.27,24.29,24.32,24.34,24.37,24.39,24.41,24.44,24.46,24.49,24.51,24.54,24.56,24.58,24.61,24.63,24.66,24.68,24.71,24.73,24.76,24.78,24.8,24.83,24.85,24.88,24.9,24.93,24.95,24.98,25.0,25.02,25.05,25.07,25.1,25.12,25.15,25.17,25.2,25.22,25.24,25.27,25.29,25.32,25.34,25.37,25.39,25.42,25.44,25.46,25.49,25.51,25.54,25.56,25.59,25.61,25.63,25.66,25.68,25.71,25.73,25.76,25.78,25.81,25.83,25.85,25.88,25.9,25.93,25.95,25.98,26.0,26.03,26.05,26.07,26.1,26.12,26.15,26.17,26.2,26.22,26.25,26.27,26.29,26.32,26.34,26.37,26.39,26.42,26.44,26.46,26.49,26.51,26.54,26.56,26.59,26.61,26.64,26.66,26.68,26.71,26.73,26.76,26.78,26.81,26.83,26.86,26.88,26.9,26.93,26.95,26.98,27.0,27.03,27.05,27.08,27.1,27.12,27.15,27.17,27.2,27.22,27.25,27.27,27.29,27.32,27.34,27.37,27.39,27.42,27.44,27.47,27.49,27.51,27.54,27.56,27.59,27.61,27.64,27.66,27.69,27.71,27.73,27.76,27.78,27.81,27.83,27.86,27.88,27.91,27.93,27.95,27.98,28.0,28.03,28.05,28.08,28.1,28.12,28.15,28.17,28.2,28.22,28.25,28.27,28.3,28.32,28.34,28.37,28.39,28.42,28.44,28.47,28.49,28.52,28.54,28.56,28.59,28.61,28.64,28.66,28.69,28.71,28.74,28.76,28.78,28.81,28.83,28.86,28.88,28.91,28.93,28.96,28.98,29.0,29.03,29.05,29.08,29.1,29.13,29.15,29.17,29.2,29.22,29.25,29.27,29.3,29.32,29.35,29.37,29.39,29.42,29.44,29.47,29.49,29.52,29.54,29.57,29.59,29.61,29.64,29.66,29.69,29.71,29.74,29.76,29.79,29.81,29.83,29.86,29.88,29.91,29.93,29.96,29.98,30.0,30.03,30.05,30.08,30.1,30.13,30.15,30.18,30.2,30.22,30.25,30.27,30.3,30.32,30.35,30.37,30.4,30.42,30.44,30.47,30.49,30.52,30.54,30.57,30.59,30.62,30.64,30.66,30.69,30.71,30.74,30.76,30.79,30.81,30.83,30.86,30.88,30.91,30.93,30.96,30.98,31.01,31.03,31.05,31.08,31.1,31.13,31.15,31.18,31.2,31.23,31.25,31.27,31.3,31.32,31.35,31.37,31.4,31.42,31.45,31.47,31.49,31.52,31.54,31.57,31.59,31.62,31.64,31.67,31.69,31.71,31.74,31.76,31.79,31.81,31.84,31.86,31.88,31.91,31.93,31.96,31.98,32.01,32.03,32.06,32.08,32.1,32.13,32.15,32.18,32.2,32.23,32.25,32.28,32.3,32.32,32.35,32.37,32.4,32.42,32.45,32.47,32.5,32.52,32.54,32.57,32.59,32.62,32.64,32.67,32.69,32.71,32.74,32.76,32.79,32.81,32.84,32.86,32.89,32.91,32.93,32.96,32.98,33.01,33.03,33.06,33.08,33.11,33.13,33.15,33.18,33.2,33.23,33.25,33.28,33.3,33.33,33.35,33.37,33.4,33.42,33.45,33.47,33.5,33.52,33.54,33.57,33.59,33.62,33.64,33.67,33.69,33.72,33.74,33.76,33.79,33.81,33.84,33.86,33.89,33.91,33.94,33.96,33.98,34.01,34.03,34.06,34.08,34.11,34.13,34.16,34.18,34.2,34.23,34.25,34.28,34.3,34.33,34.35,34.38,34.4,34.42,34.45,34.47,34.5,34.52,34.55,34.57,34.59,34.62,34.64,34.67,34.69,34.72,34.74,34.77,34.79,34.81,34.84,34.86,34.89,34.91,34.94,34.96,34.99,35.01,35.03,35.06,35.08,35.11,35.13,35.16,35.18,35.21,35.23,35.25,35.28,35.3,35.33,35.35,35.38,35.4,35.42,35.45,35.47,35.5,35.52,35.55,35.57,35.6,35.62,35.64,35.67,35.69,35.72,35.74,35.77,35.79,35.82,35.84,35.86,35.89,35.91,35.94,35.96,35.99,36.01,36.04,36.06,36.08,36.11,36.13,36.16,36.18,36.21,36.23,36.25,36.28,36.3,36.33,36.35,36.38,36.4,36.43,36.45,36.47,36.5,36.52,36.55,36.57,36.6,36.62,36.65,36.67,36.69,36.72,36.74,36.77,36.79,36.82,36.84,36.87,36.89,36.91,36.94,36.96,36.99,37.01,37.04,37.06,37.08,37.11,37.13,37.16,37.18,37.21,37.23,37.26,37.28,37.3,37.33,37.35,37.38,37.4,37.43,37.45,37.48,37.5,37.52,37.55,37.57,37.6,37.62,37.65,37.67,37.7,37.72,37.74,37.77,37.79,37.82,37.84,37.87,37.89,37.92,37.94,37.96,37.99,38.01,38.04,38.06,38.09,38.11,38.13,38.16,38.18,38.21,38.23,38.26,38.28,38.31,38.33,38.35,38.38,38.4,38.43,38.45,38.48,38.5,38.53,38.55,38.57,38.6,38.62,38.65,38.67,38.7,38.72,38.75,38.77,38.79,38.82,38.84,38.87,38.89,38.92,38.94,38.96,38.99,39.01,39.04,39.06,39.09,39.11,39.14,39.16,39.18,39.21,39.23,39.26,39.28,39.31,39.33,39.36,39.38,39.4,39.43,39.45,39.48,39.5,39.53,39.55,39.58,39.6,39.62,39.65,39.67,39.7,39.72,39.75,39.77,39.79,39.82,39.84,39.87,39.89,39.92,39.94,39.97,39.99,40.01,40.04,40.06,40.09,40.11,40.14,40.16,40.19,40.21,40.23,40.26,40.28,40.31,40.33,40.36,40.38,40.41,40.43,40.45,40.48,40.5,40.53,40.55,40.58,40.6,40.62,40.65,40.67,40.7,40.72,40.75,40.77,40.8,40.82,40.84,40.87,40.89,40.92,40.94,40.97,40.99,41.02,41.04,41.06,41.09,41.11,41.14,41.16,41.19,41.21,41.24,41.26,41.28,41.31,41.33,41.36,41.38,41.41,41.43,41.46,41.48,41.5,41.53,41.55,41.58,41.6,41.63,41.65,41.67,41.7,41.72,41.75,41.77,41.8,41.82,41.85,41.87,41.89,41.92,41.94,41.97,41.99,42.02,42.04,42.07,42.09,42.11,42.14,42.16,42.19,42.21,42.24,42.26,42.29,42.31,42.33,42.36,42.38,42.41,42.43,42.46,42.48,42.5,42.53,42.55,42.58,42.6,42.63,42.65,42.68,42.7,42.72,42.75,42.77,42.8,42.82,42.85,42.87,42.9,42.92,42.94,42.97,42.99,43.02,43.04,43.07,43.09,43.12,43.14,43.16,43.19,43.21,43.24,43.26,43.29,43.31,43.33,43.36,43.38,43.41,43.43,43.46,43.48,43.51,43.53,43.55,43.58,43.6,43.63,43.65,43.68,43.7,43.73,43.75,43.77,43.8,43.82,43.85,43.87,43.9,43.92,43.95,43.97,43.99,44.02,44.04,44.07,44.09,44.12,44.14,44.17,44.19,44.21,44.24,44.26,44.29,44.31,44.34,44.36,44.38,44.41,44.43,44.46,44.48,44.51,44.53,44.56,44.58,44.6,44.63,44.65,44.68,44.7,44.73,44.75,44.78,44.8,44.82,44.85,44.87,44.9,44.92,44.95,44.97,45.0,45.02,45.04,45.07,45.09,45.12,45.14,45.17,45.19,45.21,45.24,45.26,45.29,45.31,45.34,45.36,45.39,45.41,45.43,45.46,45.48,45.51,45.53,45.56,45.58,45.61,45.63,45.65,45.68,45.7,45.73,45.75,45.78,45.8,45.83,45.85,45.87,45.9,45.92,45.95,45.97,46.0,46.02,46.04,46.07,46.09,46.12,46.14,46.17,46.19,46.22,46.24,46.26,46.29,46.31,46.34,46.36,46.39,46.41,46.44,46.46,46.48,46.51,46.53,46.56,46.58,46.61,46.63,46.66,46.68,46.7,46.73,46.75,46.78,46.8,46.83,46.85,46.88,46.9,46.92,46.95,46.97,47.0,47.02,47.05,47.07,47.09,47.12,47.14,47.17,47.19,47.22,47.24,47.27,47.29,47.31,47.34,47.36,47.39,47.41,47.44,47.46,47.49,47.51,47.53,47.56,47.58,47.61,47.63,47.66,47.68,47.71,47.73,47.75,47.78,47.8,47.83,47.85,47.88,47.9,47.92,47.95,47.97,48.0,48.02,48.05,48.07,48.1,48.12,48.14,48.17,48.19,48.22,48.24,48.27,48.29,48.32,48.34,48.36,48.39,48.41,48.44,48.46,48.49,48.51,48.54,48.56,48.58,48.61,48.63,48.66,48.68,48.71,48.73,48.75,48.78,48.8,48.83,48.85,48.88,48.9,48.93,48.95,48.97,49.0,49.02,49.05,49.07,49.1,49.12,49.15,49.17,49.19,49.22,49.24,49.27,49.29,49.32,49.34,49.37,49.39,49.41,49.44,49.46,49.49,49.51,49.54,49.56,49.58,49.61,49.63,49.66,49.68,49.71,49.73,49.76,49.78,49.8,49.83,49.85,49.88,49.9,49.93,49.95,49.98,50.0,50.02,50.05,50.07,50.1,50.12,50.15,50.17,50.2,50.22,50.24,50.27,50.29,50.32,50.34,50.37,50.39,50.42,50.44,50.46,50.49,50.51,50.54,50.56,50.59,50.61,50.63,50.66,50.68,50.71,50.73,50.76,50.78,50.81,50.83,50.85,50.88,50.9,50.93,50.95,50.98,51.0,51.03,51.05,51.07,51.1,51.12,51.15,51.17,51.2,51.22,51.25,51.27,51.29,51.32,51.34,51.37,51.39,51.42,51.44,51.46,51.49,51.51,51.54,51.56,51.59,51.61,51.64,51.66,51.68,51.71,51.73,51.76,51.78,51.81,51.83,51.86,51.88,51.9,51.93,51.95,51.98,52.0,52.03,52.05,52.08,52.1,52.12,52.15,52.17,52.2,52.22,52.25,52.27,52.29,52.32,52.34,52.37,52.39,52.42,52.44,52.47,52.49,52.51,52.54,52.56,52.59,52.61,52.64,52.66,52.69,52.71,52.73,52.76,52.78,52.81,52.83,52.86,52.88,52.91,52.93,52.95,52.98,53.0,53.03,53.05,53.08,53.1,53.12,53.15,53.17,53.2,53.22,53.25,53.27,53.3,53.32,53.34,53.37,53.39,53.42,53.44,53.47,53.49,53.52,53.54,53.56,53.59,53.61,53.64,53.66,53.69,53.71,53.74,53.76,53.78,53.81,53.83,53.86,53.88,53.91,53.93,53.96,53.98,54.0,54.03,54.05,54.08,54.1,54.13,54.15,54.17,54.2,54.22,54.25,54.27,54.3,54.32,54.35,54.37,54.39,54.42,54.44,54.47,54.49,54.52,54.54,54.57,54.59,54.61,54.64,54.66,54.69,54.71,54.74,54.76,54.79,54.81,54.83,54.86,54.88,54.91,54.93,54.96,54.98,55.0,55.03,55.05,55.08,55.1,55.13,55.15,55.18,55.2,55.22,55.25,55.27,55.3,55.32,55.35,55.37,55.4,55.42,55.44,55.47,55.49,55.52,55.54,55.57,55.59,55.62,55.64,55.66,55.69,55.71,55.74,55.76,55.79,55.81,55.83,55.86,55.88,55.91,55.93,55.96,55.98,56.01,56.03,56.05,56.08,56.1,56.13,56.15,56.18,56.2,56.23,56.25,56.27,56.3,56.32,56.35,56.37,56.4,56.42,56.45,56.47,56.49,56.52,56.54,56.57,56.59,56.62,56.64,56.67,56.69,56.71,56.74,56.76,56.79,56.81,56.84,56.86,56.88,56.91,56.93,56.96,56.98,57.01,57.03,57.06,57.08,57.1,57.13,57.15,57.18,57.2,57.23,57.25,57.28,57.3,57.32,57.35,57.37,57.4,57.42,57.45,57.47,57.5,57.52,57.54,57.57,57.59,57.62,57.64,57.67,57.69,57.71,57.74,57.76,57.79,57.81,57.84,57.86,57.89,57.91,57.93,57.96,57.98,58.01,58.03,58.06,58.08,58.11,58.13,58.15,58.18,58.2,58.23,58.25,58.28,58.3,58.33,58.35,58.37,58.4,58.42,58.45,58.47,58.5,58.52,58.54,58.57,58.59,58.62,58.64,58.67,58.69,58.72,58.74,58.76,58.79,58.81,58.84,58.86,58.89,58.91,58.94,58.96,58.98,59.01,59.03,59.06,59.08,59.11,59.13,59.16,59.18,59.2,59.23,59.25,59.28,59.3,59.33,59.35,59.38,59.4,59.42,59.45,59.47,59.5,59.52,59.55,59.57,59.59,59.62,59.64,59.67,59.69,59.72,59.74,59.77,59.79,59.81,59.84,59.86,59.89,59.91,59.94,59.96,59.99,60.01,60.03,60.06,60.08,60.11,60.13,60.16,60.18,60.21,60.23,60.25,60.28,60.3,60.33,60.35,60.38,60.4,60.42,60.45,60.47,60.5,60.52,60.55,60.57,60.6,60.62,60.64,60.67,60.69,60.72,60.74,60.77,60.79,60.82,60.84,60.86,60.89,60.91,60.94,60.96,60.99,61.01,61.04,61.06,61.08,61.11,61.13,61.16,61.18,61.21,61.23,61.25,61.28,61.3,61.33,61.35,61.38,61.4,61.43,61.45,61.47,61.5,61.52,61.55,61.57,61.6,61.62,61.65,61.67,61.69,61.72,61.74,61.77,61.79,61.82,61.84,61.87,61.89,61.91,61.94,61.96,61.99,62.01,62.04,62.06,62.08,62.11,62.13,62.16,62.18,62.21,62.23,62.26,62.28,62.3,62.33,62.35,62.38,62.4,62.43,62.45,62.48,62.5,62.52,62.55,62.57,62.6,62.62,62.65,62.67,62.7,62.72,62.74,62.77,62.79,62.82,62.84,62.87,62.89,62.92,62.94,62.96,62.99,63.01,63.04,63.06,63.09,63.11,63.13,63.16,63.18,63.21,63.23,63.26,63.28,63.31,63.33,63.35,63.38,63.4,63.43,63.45,63.48,63.5,63.53,63.55,63.57,63.6,63.62,63.65,63.67,63.7,63.72,63.75,63.77,63.79,63.82,63.84,63.87,63.89,63.92,63.94,63.96,63.99,64.01,64.04,64.06,64.09,64.11,64.14,64.16,64.18,64.21,64.23,64.26,64.28,64.31,64.33,64.36,64.38,64.4,64.43,64.45,64.48,64.5,64.53,64.55,64.58,64.6,64.62,64.65,64.67,64.7,64.72,64.75,64.77,64.79,64.82,64.84,64.87,64.89,64.92,64.94,64.97,64.99,65.01,65.04,65.06,65.09,65.11,65.14,65.16,65.19,65.21,65.23,65.26,65.28,65.31,65.33,65.36,65.38,65.41,65.43,65.45,65.48,65.5,65.53,65.55,65.58,65.6,65.62,65.65,65.67,65.7,65.72,65.75,65.77,65.8,65.82,65.84,65.87,65.89,65.92,65.94,65.97,65.99,66.02,66.04,66.06,66.09,66.11,66.14,66.16,66.19,66.21,66.24,66.26,66.28,66.31,66.33,66.36,66.38,66.41,66.43,66.46,66.48,66.5,66.53,66.55,66.58,66.6,66.63,66.65,66.67,66.7,66.72,66.75,66.77,66.8,66.82,66.85,66.87,66.89,66.92,66.94,66.97,66.99,67.02,67.04,67.07,67.09,67.11,67.14,67.16,67.19,67.21,67.24,67.26,67.29,67.31,67.33,67.36,67.38,67.41,67.43,67.46],"duration":1,"snr_y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,5,5,5,5,9,9,9,9,8,8,8,8,21,21,21,21,21,21,21,21,24,24,24,24,24,24,24,24,36,36,36,36,41,41,41,41,46,46,46,46,24,24,24,24,15,15,15,15,11,11,11,11,8,8,8,8,12,12,12,12,15,15,15,15,18,18,18,18,15,15,15,15,21,21,21,21,70,70,70,70,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,89,89,89,89,96,96,96,96,96,96,96,96,36,36,36,36,7,7,7,7,24,24,24,24,36,36,36,36,77,77,77,77,96,96,96,96,105,105,105,105,114,114,114,114,105,105,105,105,105,105,105,105,114,114,114,114,114,114,114,114,114,114,114,114,123,123,123,123,123,123,123,123,105,105,105,105,105,105,105,105,84,84,84,84,29,29,29,29,51,51,51,51,58,58,58,58,58,58,58,58,48,48,48,48,65,65,65,65,89,89,89,89,114,114,114,114,141,141,141,141,150,150,150,150,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,132,132,132,132,141,141,141,141,150,150,150,150,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,123,123,123,123,96,96,96,96,77,77,77,77,56,56,56,56,82,82,82,82,96,96,96,96,123,123,123,123,150,150,150,150,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,161,161,161,161,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,161,161,161,161,150,150,150,150,161,161,161,161,150,150,150,150,150,150,150,150,141,141,141,141,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,96,105,105,105,105,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,161,161,161,161,150,150,150,150,161,161,161,161,161,161,161,161,172,172,172,172,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,150,150,150,150,150,150,150,150,161,161,161,161,172,172,172,172,172,172,172,172,150,150,150,150,150,150,150,150,172,172,172,172,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,150,150,150,150,105,105,105,105,96,96,96,96,77,77,77,77,105,105,105,105,96,96,96,96,96,96,96,96,150,150,150,150,183,183,183,183,172,172,172,172,183,183,183,183,172,172,172,172,172,172,172,172,172,172,172,172,161,161,161,161,172,172,172,172,172,172,172,172,194,194,194,194,194,194,194,194,183,183,183,183,194,194,194,194,205,205,205,205,183,183,183,183,194,194,194,194,183,183,183,183,172,172,172,172,172,172,172,172,183,183,183,183,183,183,183,183,183,183,183,183,172,172,172,172,150,150,150,150,96,96,96,96,96,96,96,96,114,114,114,114,123,123,123,123,123,123,123,123,123,123,123,123,105,105,105,105,96,96,96,96,114,114,114,114,183,183,183,183,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,183,183,183,183,205,205,205,205,216,216,216,216,194,194,194,194,150,150,150,150,141,141,141,141,114,114,114,114,105,105,105,105,105,105,105,105,150,150,150,150,161,161,161,161,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,216,216,216,216,229,229,229,229,229,229,229,229,229,229,229,229,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,161,161,161,161,132,132,132,132,96,96,96,96,96,96,96,96,96,96,96,96,123,123,123,123,123,123,123,123,132,132,132,132,123,123,123,123,123,123,123,123,105,105,105,105,123,123,123,123,141,141,141,141,132,132,132,132,132,132,132,132,132,132,132,132,141,141,141,141,132,132,132,132,150,150,150,150,141,141,141,141,132,132,132,132,123,123,123,123,141,141,141,141,141,141,141,141,150,150,150,150,132,132,132,132,150,150,150,150,150,150,150,150,132,132,132,132,150,150,150,150,141,141,141,141,150,150,150,150,150,150,150,150,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,141,150,150,150,150,141,141,141,141,141,141,141,141,141,141,141,141,114,114,114,114,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,141,141,141,141,141,141,141,141,150,150,150,150,132,132,132,132,150,150,150,150,150,150,150,150,150,150,150,150,141,141,141,141,150,150,150,150,105,105,105,105,123,123,123,123,114,114,114,114,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,141,141,141,141,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,150,161,161,161,161,150,150,150,150,141,141,141,141,150,150,150,150,141,141,141,141,150,150,150,150,150,150,150,150,150,150,150,150,161,161,161,161,150,150,150,150,150,150,150,150,161,161,161,161,161,161,161,161,161,161,161,161,172,172,172,172,150,150,150,150,150,150,150,150,141,141,141,141,150,150,150,150,161,161,161,161,183,183,183,183,172,172,172,172,141,141,141,141,150,150,150,150,150,150,150,150,172,172,172,172,161,161,161,161,172,172,172,172,183,183,183,183,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,172,172,172,172,161,161,161,161,161,161,161,161,161,161,161,161,172,172,172,172,183,183,183,183,172,172,172,172,161,161,161,161,183,183,183,183,183,183,183,183,161,161,161,161,194,194,194,194,172,172,172,172,172,172,172,172,161,161,161,161,161,161,161,161,161,161,161,161,172,172,172,172,205,205,205,205,216,216,216,216,172,172,172,172,172,172,172,172,161,161,161,161,161,161,161,161,194,194,194,194,205,205,205,205,172,172,172,172,172,172,172,172,183,183,183,183,183,183,183,183,172,172,172,172,194,194,194,194,205,205,205,205,194,194,194,194,183,183,183,183,183,183,183,183,183,183,183,183,172,172,172,172,183,183,183,183,172,172,172,172,194,194,194,194,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,194,194,194,194,172,172,172,172,172,172,172,172,183,183,183,183,183,183,183,183,194,194,194,194,194,194,194,194,205,205,205,205,205,205,205,205,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,194,216,216,216,216,205,205,205,205,194,194,194,194,205,205,205,205,194,194,194,194,205,205,205,205,194,194,194,194,183,183,183,183,194,194,194,194,216,216,216,216,205,205,205,205,183,183,183,183,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,194,194,194,194,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,229,229,229,229,216,216,216,216,216,216,216,216,205,205,205,205,194,194,194,194,218,218,218,218,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,194,194,194,194,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,194,194,194,194,229,229,229,229,229,229,229,229,229,229,229,229,205,205,205,205,183,183,183,183,172,172,172,172,150,150,150,150,161,161,161,161,205,205,205,205,183,183,183,183,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,172,172,172,172,161,161,161,161,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,229,229,229,229,216,216,216,216,205,205,205,205,216,216,216,216,216,216,216,216,229,229,229,229,229,229,229,229,229,229,229,229,218,218,218,218,207,207,207,207,216,216,216,216,216,216,216,216,216,216,216,216,229,229,229,229,216,216,216,216,216,216,216,216,194,194,194,194,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,172,172,172,172,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,229,229,229,229,229,229,229,229,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,229,229,229,229,229,229,229,229,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,229,229,229,229,229,229,229,229,216,216,216,216,216,216,216,216,207,207,207,207,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,194,194,194,194,216,216,216,216,216,216,216,216,218,218,218,218,205,205,205,205,194,194,194,194,216,216,216,216,216,216,216,216,229,229,229,229,216,216,216,216,194,194,194,194,216,216,216,216,205,205,205,205,216,216,216,216,229,229,229,229,229,229,229,229,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,205,205,205,205,205,205,205,205,216,216,216,216,205,205,205,205,229,229,229,229,216,216,216,216,218,218,218,218,216,216,216,216,207,207,207,207,229,229,229,229,216,216,216,216,216,216,216,216,183,183,183,183,183,183,183,183,216,216,216,216,229,229,229,229,205,205,205,205,216,216,216,216,205,205,205,205,183,183,183,183,183,183,183,183,229,229,229,229,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,216,229,229,229,229,216,216,216,216,216,216,216,216,216,216,216,216,183,183,183,183,172,172,172,172,183,183,183,183,205,205,205,205,216,216,216,216,205,205,205,205,205,205,205,205,205,205,205,205,194,194,194,194,194,194,194,194,194,194,194,194,205,205,205,205,216,216,216,216,205,205,205,205,205,205,205,205,229,229,229,229,216,216,216,216,216,216,216,216,194,194,194,194,216,216,216,216,205,205,205,205,194,194,194,194,205,205,205,205,183,183,183,183,194,194,194,194,183,183,183,183,172,172,172,172,194,194,194,194,216,216,216,216,216,216,216,216,216,216,216,216,194,194,194,194,183,183,183,183,205,205,205,205,205,205,205,205,216,216,216,216,216,216,216,216,216,216,216,216,0,0],"period":1,"time":"15:54:27","status":2}
			
			const datax=data.snr_x;
			const datay=data.snr_y;

			let windowHalfX = window.innerWidth / 2;
			let	windowHalfY = window.innerHeight / 2;
			let	camera; 
			let	scene; 
			let	renderer;
            let controls;
            let light;

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
			init();
			animate();

			function init() {

				let container=null;
                let meshtexName = {};
                let mesh = null;
                const material = new THREE.RawShaderMaterial( {
                    uniforms: {
                        time: { value: 1.0 }
                    },
                    vertexShader: document.getElementById( 'vertexShader' ).textContent,
                    fragmentShader: document.getElementById( 'fragmentShader' ).textContent,
                    side: THREE.DoubleSide,
                    transparent: false
                } );

                materialtext = new THREE.MeshPhongMaterial({
                　　color: 0x000000,
                　　specular:0xffff00,
                　　shininess:0
                });

                container = document.getElementById('content')
                container.innerHTML='';

				camera = new THREE.PerspectiveCamera( 70, window.innerWidth / window.innerHeight, 0.1, 1000 );
				camera.position.set(50,80,200);

				scene = new THREE.Scene();
				scene.background = new THREE.Color( 0xffffff );

				renderer = new THREE.WebGLRenderer();
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				container.appendChild( renderer.domElement );

				controls = new THREE.OrbitControls( camera, renderer.domElement );
				controls.maxPolarAngle = Math.PI / 2;
				controls.minDistance = 100;
				controls.maxDistance = 240;

				light = new THREE.AmbientLight(0xffffff);
				scene.add(light);

                
				coordinate();

                loadFont({type:1});

                drawSnr();

                //设置z轴刻度标记
                document.getElementById('info').onclick=function(){
                    loadFont({type:2,val:221});
                    scene.remove(mesh);
                    drawSnr();
                }

                /**
                 * [coordinate description] 网格
                 * @param {[type]} gridXZ [description] XZ方向网格平面
                 * @param {[type]} gridXY [description] XY方向网格平面
                 * @param {[type]} gridYZ [description] YZ方向网格平面
                 * @param {[type]} materialtext [description] 网孔材料
                 * @param {[type]} loader [description] 字体对象
                 */
                function coordinate(){
                    let gridXZ=null;
                    let gridXY=null;
                    let gridYZ=null;
                    let materialtext=null;
                    

                    gridXZ = new THREE.GridHelper(100, 5);
                    gridXZ.position.set( 50,0,50 );
                    scene.add(gridXZ);

                    gridXY = new THREE.GridHelper(100, 5);
                    gridXY.position.set( 50,50,0 );
                    gridXY.rotation.x = Math.PI/2;
                    scene.add(gridXY);

                    gridYZ = new THREE.GridHelper(100, 5);
                    gridYZ.position.set( 0,50,50 );
                    gridYZ.rotation.z = Math.PI/2;
                    scene.add(gridYZ);
                }

                /**
                 * [loadFont description] 网格标记
                 * @param  {Object} fontParam [description]
                 * @return {[type]}           [description]
                 */
                function loadFont(fontParam={}){
                    let type = fontParam.type;
                    let val = fontParam.val;
                    let loader=null;
                    
                    loader = new THREE.FontLoader(); 
                    loader.load('https://threejs.org/examples/fonts/droid/droid_sans_regular.typeface.json', function(font) {
                        if (type==1){
                            for(let i=0;i<=5;i++){
                                meshtexName['meshtextx'+i] = fontEle({
                                                                index:i,
                                                                ele:'x',
                                                                meshtextEle:meshtexName['meshtextx'+i],
                                                                font:font,
                                                                type:1,
                                                                num:30,
                                                            }); 
                                meshtexName['meshtextx'+i].rotation.x=80;

                                meshtexName['meshtexty'+i] = fontEle({
                                                                index:i,
                                                                ele:'y',
                                                                meshtextEle:meshtexName['meshtexty'+i],
                                                                font:font,
                                                                type:2,
                                                                num:400,
                                                            });
                                meshtexName['meshtexty'+i].rotation.y=-80;

                                meshtexName['meshtextz'+i] = fontEle({
                                                                index:i,
                                                                ele:'z',
                                                                meshtextEle:meshtexName['meshtextz'+i],
                                                                font:font,
                                                                type:3,
                                                                num:60,
                                                            });
                                meshtexName['meshtextz'+i].rotation.x=80;

                                meshtexName['meshtexty2'+i] = fontEle({
                                                                index:i,
                                                                ele:'y',
                                                                meshtextEle:meshtexName['meshtexty2'+i],
                                                                font:font,
                                                                type:4,
                                                                num:400,
                                                            });
                        　　　　scene.add(
                                    meshtexName['meshtextx'+i],
                                    meshtexName['meshtexty'+i],
                                    meshtexName['meshtextz'+i],
                                    meshtexName['meshtexty2'+i]
                                );
                        　　}
                        }else{
                            for(i=1;i<=5;i++){
                                scene.remove(meshtexName['meshtextz'+i]);
                                meshtexName['meshtextz'+i] = fontEle({
                                                                index:i,
                                                                ele:'z',
                                                                meshtextEle:meshtexName['meshtextz'+i],
                                                                font:font,
                                                                type:3,
                                                                num:val,
                                                            });
                                meshtexName['meshtextz'+i].rotation.x=80;

                        　　　　scene.add(meshtexName['meshtextz'+i]);
                        　　}
                        }
                    　　
                    });
                }

                //文字封装
                function fontEle(param={}){
                    const index=param.index;
                    const font=param.font;
                    const type=param.type;
                    const num=param.num;
                    let meshtextEle=param.meshtextEle;
                    let ele=param.ele;

                    ele = parseInt(num/5*index);
            　　　　meshtextEle = new THREE.Mesh(new THREE.TextGeometry(ele, {
            　　　　　　font: font,
            　　　　　　size: 2,
            　　　　　　height: 0.1,
            　　　　}), materialtext);
                    if (type==1){
                        meshtextEle.position.set(100/5*index,0,103);
                    }else if (type==2){
                        meshtextEle.position.set(0,100/5*index-2,107);
                    }else if (type==3){
                        meshtextEle.position.set(103,0,100/5*index);
                    }else{
                        meshtextEle.position.set(103,100/5*index-2,0);
                    }
                    return meshtextEle;
                }
                
				function drawLine(param={}){
                    let geometryc;
                    let materialc;
                    let line;
					let arr = [];
                    let colors3 = [];
					let j = 0;
                    let datax = param.datax;
                    let datay = param.datay;
                    let dataArr = datax.length;
                    const time = param.time;

					while(dataArr--){
						arr.push(
                            new THREE.Vector3(100/70*datax[j], 100/400*datay[j], 100/300*time)
                        );
						colors3[ j ] = new THREE.Color(  
                                            (datay[j]<50 && 0xff0000)
                                            || (datay[j]>=50 && datay[j]<=150 && 0xffff00)
                                            || (datay[j]>150 && 0x008000)
                                        );
						j++;
					}

					geometryc = new THREE.Geometry();
					geometryc.vertices=arr;
					geometryc.colors=colors3;
					line = new THREE.Line(geometryc,material);
					scene.add(line);
				}

				

				function drawSnr(){
					let geometry = new THREE.BufferGeometry();
					let	positions = [];
					let	time=0;
					let size;
                    let position;
                    let MAX_POINTS = datax.length*300;
					let pos = new THREE.BufferAttribute( new Float32Array( MAX_POINTS * 18 ), 3 );
					geometry.addAttribute( 'position',  pos);
					position = geometry.attributes.position.array;

                    //实时数据部分
					setInterval(function(){
						if (time<=300){
                            if (time==0){
                                drawLine({datax:datax,datay:datay,time:1});
                            }else{
                                size = (time)*datax.length*18;
                                for ( var i = 0; i < MAX_POINTS-1; i ++ ){
                                    if (i<=datax.length){
                                        position[size+i*18] = 100/70*datax[i+1];
                                        position[size+i*18 + 1] = 100/400*datay[i+1];
                                        position[size+i*18 + 2] = 100/300*time;

                                        position[size+i*18 + 3] = 100/70*datax[i];
                                        position[size+i*18 + 4] = 100/400*datay[i];
                                        position[size+i*18 + 5] = 100/300*time;

                                        position[size+i*18 + 6] = 100/70*datax[i];
                                        position[size+i*18 + 7] = 100/400*datay[i];
                                        position[size+i*18 + 8] = 100/300*(time+1);

                                        position[size+i*18 + 9] = 100/70*datax[i+1];
                                        position[size+i*18 + 10] = 100/400*datay[i+1];
                                        position[size+i*18 + 11] = 100/300*(time+1);

                                        position[size+i*18 + 12] = 100/70*datax[i+1];
                                        position[size+i*18 + 13] = 100/400*datay[i+1];
                                        position[size+i*18 + 14] = 100/300*time;

                                        position[size+i*18 + 15] = 100/70*datax[i];
                                        position[size+i*18 + 16] = 100/400*datay[i];
                                        position[size+i*18 + 17] = 100/300*(time+1);
                                    }
                                    
                                }
                                mesh.geometry.attributes.position.needsUpdate = true;
                            }
						}
						time++;
					}, 1000)

	                mesh = new THREE.Mesh( geometry, material );
	                scene.add( mesh );
				}

				stats = new Stats();
				container.appendChild(stats.dom);
				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {
				windowHalfX = window.innerWidth / 2;
				windowHalfY = window.innerHeight / 2;
				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();
				renderer.setSize( window.innerWidth, window.innerHeight );
			}

			function animate() {
				requestAnimationFrame( animate );
				render();
				stats.update();

			}

			function render() {
				renderer.render(scene, camera );
			}

		</script>
	</body>
</html>
